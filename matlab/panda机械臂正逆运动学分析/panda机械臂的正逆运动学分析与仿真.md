
---

# å‰è¨€


æœºæ¢°è‡‚çš„ä½ç½®è¿åŠ¨å­¦åˆ†ææ˜¯æœºå™¨äººæ§åˆ¶ä¸è½¨è¿¹è§„åˆ’çš„æ ¸å¿ƒåŸºç¡€ï¼Œå…¶ç ”ç©¶å†…å®¹ä¸»è¦åˆ†ä¸ºæ­£è¿åŠ¨å­¦ï¼ˆForward Kinematicsï¼‰å’Œé€†è¿åŠ¨å­¦ï¼ˆInverse Kinematicsï¼‰ä¸¤å¤§éƒ¨åˆ†ï¼ŒäºŒè€…æ„æˆè¿åŠ¨å­¦åˆ†æçš„å®Œæ•´é—­ç¯ã€‚

æ­£è¿åŠ¨å­¦ç ”ç©¶çš„æ˜¯åœ¨å·²çŸ¥æœºæ¢°è‡‚å„å…³èŠ‚è§’åº¦çš„æ¡ä»¶ä¸‹ï¼Œé€šè¿‡æ•°å­¦æ¨¡å‹è®¡ç®—æœ«ç«¯æ‰§è¡Œå™¨åœ¨ä¸‰ç»´ç©ºé—´ä¸­çš„ä½ç½®ï¼ˆx, y, zåæ ‡ï¼‰å’Œå§¿æ€ï¼ˆå¦‚æ¬§æ‹‰è§’æˆ–å››å…ƒæ•°è¡¨ç¤ºï¼‰ã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å…³èŠ‚ç©ºé—´åˆ°ç¬›å¡å°”ç©ºé—´çš„æ˜ å°„å…³ç³»ï¼Œå»ºç«‹æœ«ç«¯ä½å§¿ä¸å…³èŠ‚å˜é‡çš„å‡½æ•°è¡¨è¾¾å¼ã€‚å¸¸ç”¨çš„å»ºæ¨¡æ–¹æ³•åŒ…æ‹¬å‡ ä½•åˆ†ææ³•ï¼ˆé€‚ç”¨äºç®€å•æ„å‹ï¼‰ã€Denavit-Hartenbergï¼ˆDHï¼‰å‚æ•°æ³•ï¼ˆæ ‡å‡†DHæ³•ã€æ”¹è¿›DHæ–¹æ³•ï¼‰ã€‚æ”¹è¿›DHæ³•é€šè¿‡è°ƒæ•´åæ ‡ç³»åˆ†é…è§„åˆ™ï¼Œæ›´é€‚ç”¨äºå…·æœ‰å¹³è¡Œå…³èŠ‚æˆ–ç‰¹æ®Šæ‹“æ‰‘ç»“æ„çš„æœºæ¢°è‡‚ï¼Œæœ¬æ–‡å³é‡‡ç”¨è¯¥æ–¹æ³•æ„å»ºè¿åŠ¨å­¦æ¨¡å‹ï¼Œå…¶ä¼˜åŠ¿åœ¨äºèƒ½å‡å°‘å¥‡å¼‚ç‚¹å¹¶æé«˜å‚æ•°å®šä¹‰çš„è§„èŒƒæ€§ã€‚

é€†è¿åŠ¨å­¦åˆ™è§£å†³ç›¸åçš„é—®é¢˜ï¼šåœ¨ç»™å®šæœ«ç«¯æ‰§è¡Œå™¨ç›®æ ‡ä½å§¿çš„çº¦æŸä¸‹ï¼Œåæ¨å‡ºæœºæ¢°è‡‚å„å…³èŠ‚æ‰€éœ€è¾¾åˆ°çš„è§’åº¦å€¼ã€‚è¿™ä¸€è¿‡ç¨‹å…·æœ‰æ›´å¼ºçš„å·¥ç¨‹æŒ‘æˆ˜æ€§ï¼Œä¸»è¦ä½“ç°åœ¨è§£çš„å­˜åœ¨æ€§ï¼ˆå¯è¾¾å·¥ä½œç©ºé—´åˆ¤æ–­ï¼‰ã€å¤šè§£æ€§ï¼ˆå…³èŠ‚æ„å‹é€‰æ‹©ï¼‰ä»¥åŠæ±‚è§£ç®—æ³•çš„å®æ—¶æ€§ç­‰æ–¹é¢ã€‚å¸¸ç”¨çš„æ±‚è§£ç®—æ³•å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼š

- è§£ææ³•ï¼ˆå°é—­è§£ï¼‰ï¼šé€šè¿‡ä»£æ•°å˜æ¢æˆ–å‡ ä½•åˆ†è§£ç›´æ¥æ¨å¯¼å…³èŠ‚è§’è¡¨è¾¾å¼ã€‚

- æ•°å€¼æ³•ï¼ˆè¿­ä»£è§£ï¼‰ï¼šé‡‡ç”¨é›…å¯æ¯”çŸ©é˜µè¿­ä»£æˆ–ä¼˜åŒ–ç®—æ³•é€¼è¿‘è§£ï¼Œé€‚ç”¨äºé€šç”¨æ„å‹ä½†éœ€å¤„ç†æ”¶æ•›æ€§é—®é¢˜ã€‚

æ­£é€†è¿åŠ¨å­¦çš„ååŒæ±‚è§£æ„æˆäº†æœºæ¢°è‡‚è½¨è¿¹ç”Ÿæˆä¸å®æ—¶æ§åˆ¶çš„ç†è®ºåŸºç¡€ï¼Œå…¶ä¸­æ­£è¿åŠ¨å­¦ç”¨äºå®é™…ä½å§¿åé¦ˆéªŒè¯ï¼Œé€†è¿åŠ¨å­¦åˆ™æœåŠ¡äºå…³èŠ‚ç©ºé—´çš„ç›®æ ‡è§„åˆ’ï¼ŒäºŒè€…çš„ç²¾åº¦ä¸æ•ˆç‡ç›´æ¥å½±å“æœºæ¢°è‡‚çš„æ•´ä½“æ€§èƒ½ã€‚

# Pandaæœºæ¢°è‡‚çš„DHå‚æ•°æ³•å»ºæ¨¡

åæ ‡ç³»å®šä¹‰å’ŒDHå‚æ•°ç¡®å®š

![alt text](images/image-2.png)

- $\alpha_{i}$ï¼šæ²¿ç€$\hat{X}_{i-1}$æ–¹å‘çœ‹ï¼Œä»$\hat{Z}_{i-1}$è½¬åˆ°$\hat{Z}_i$çš„æ—‹è½¬è§’åº¦
- $a_{i-1}$ï¼šæ²¿ç€$\hat{X}_{i-1}$æ–¹å‘ï¼Œ$\hat{Z}_{i-1}$å’Œ$\hat{Z}_i$é—´çš„è·ç¦»ï¼ˆ$a_{i}$>0ï¼‰
- $\theta_{i}$ï¼šæ²¿ç€$\hat{Z}_{i}$æ–¹å‘çœ‹ï¼Œä»$\hat{X}_{i-1}$è½¬åˆ°$\hat{X}_i$çš„æ—‹è½¬è§’åº¦
- $d_{i}$ï¼šæ²¿ç€$\hat{Z}_{i}$æ–¹å‘ï¼Œ$\hat{X}_{i-1}$å’Œ$\hat{X}_i$é—´çš„è·ç¦»ï¼ˆ$d_i$>0ï¼‰

å‡ ä½•å‚æ•°

![alt text](images/image.png)

DHå‚æ•°

![alt text](images/image-1.png)

# æ­£è¿åŠ¨å­¦

è½¬æ¢å…¬å¼ï¼š

$$ \begin{aligned}
{ }_{i}^{i-1} T & =T_{\hat{X}_{i-1}}\left(\alpha_{i-1}\right) T_{\hat{X}_{R}}\left(a_{i-1}\right) T_{\hat{Z}_{Q}}\left(\theta_{i}\right) T_{\hat{Z}_{P}}\left(d_{i}\right) \\
& =\left[\begin{array}{cccc}
c \theta_{i} & -s \theta_{i} & 0 & a_{i-1} \\
s \theta_{i} c \alpha_{i-1} & c \theta_{i} c \alpha_{i-1} & -s \alpha_{i-1} & -s \alpha_{i-1} d_{i} \\
s \theta_{i} s \alpha_{i-1} & c \theta_{i} s \alpha_{i-1} & c \alpha_{i-1} & c \alpha_{i-1} d_{i} \\
0 & 0 & 0 & 1
\end{array}\right]
\end{aligned} $$

> æ³¨æ„ï¼š$c\theta_{i}$è¡¨ç¤º$cos(\theta_{i})$ï¼Œ$s\theta_{i}$è¡¨ç¤º$sin(\theta_{i})$ï¼Œå…¶ä»–åŒç†ã€‚

åˆ™ï¼š

$$ \begin{aligned}
{ }_{1}^{0} T 
& =\left[\begin{array}{cccc}
c \theta_{1} & -s \theta_{1} & 0 & 0 \\
s \theta_{1}  & c \theta_{1}  & 0 & 0 \\
0  & 0 & 1 & 0.333 \\
0 & 0 & 0 & 1
\end{array}\right]
\end{aligned} $$

> å…¶ä¸­ï¼Œ$a_{0}=0$ï¼Œ$d_{1}=0.333$ï¼Œ$\alpha_{0}=0$

$$ \begin{aligned}
{ }_{2}^{1} T 
& =\left[\begin{array}{cccc}
c \theta_{2} & -s \theta_{2} & 0 & 0 \\
0 & 0 & 1 & 0 \\
-s \theta_{2}  & -c \theta_{2}  & 0 & 0 \\
0 & 0 & 0 & 1
\end{array}\right]
\end{aligned} $$

> å…¶ä¸­ï¼Œ$a_{1}=0$ï¼Œ$d_{2}=0$ï¼Œ$\alpha_{1}=-\pi/2$


$$ \vdots $$

$$ \begin{aligned}
{ }_{7}^{6} T 
& =\left[\begin{array}{cccc}
c \theta_{7} & -s \theta_{7} & 0 & 0.088 \\
0 & 0 & -1 & 0 \\
s \theta_{7}  & c \theta_{7}  & 0 & 0 \\
0 & 0 & 0 & 1
\end{array}\right]
\end{aligned} $$

> å…¶ä¸­ï¼Œ$a_{6}=0.088$ï¼Œ$d_{7}=0$ï¼Œ$\alpha_{6}=\pi/2$

æœ€ç»ˆæœ«ç«¯æ‰§è¡Œå™¨ç›¸å¯¹äºåŸºåº§åæ ‡ç³»çš„å˜æ¢çŸ©é˜µä¸ºï¼š

$$ \begin{aligned}
{ }_{7}^{0} T 
& ={ }_{0}^{1} T { }_{1}^{2} T { }_{2}^{3} T { }_{3}^{4} T { }_{4}^{5} T { }_{5}^{6} T { }_{6}^{7} T
\end{aligned} $$

ä»¿çœŸåˆ†æ

![alt text](images/image-3.png)

# é€†è¿åŠ¨å­¦

è¿™é‡Œä»‹ç»ä¸€ä¸‹é€šè¿‡æ•°å€¼æ³•æ¥é€†å‘æ±‚è§£æœºæ¢°è‡‚çš„å…³èŠ‚è§’åº¦ã€‚


## è¯¯å·®å‡½æ•°

é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¯¯å·®å‡½æ•° $E$ ï¼Œå®ƒè¡¡é‡æœ«ç«¯æ‰§è¡Œå™¨çš„å®é™…ä½ç½®å’Œå§¿æ€ä¸ç›®æ ‡ä½ç½®çš„å·®å¼‚ï¼š

$$ E = \left\| { }_{7}^{0} T - { }_{7}^{0} T^* \right\| $$

å…¶ä¸­ ${ }_{7}^{0} T^*$ æ˜¯ç›®æ ‡çš„ä½ç½®å’Œå§¿æ€çš„å˜æ¢çŸ©é˜µï¼Œ$\| \|$ è¡¨ç¤ºçš„æ˜¯èŒƒæ•°ï¼ˆnormï¼‰ã€‚

## é›…å¯æ¯”çŸ©é˜µ

é›…å¯æ¯”çŸ©é˜µï¼ˆJacobian matrixï¼‰æ˜¯æ±‚è§£é€†è¿åŠ¨å­¦é—®é¢˜çš„å…³é”®å·¥å…·ã€‚å®ƒæ˜¯ä¸€ä¸ªåå¯¼æ•°çŸ©é˜µï¼Œè¡¨ç¤ºæœ«ç«¯æ‰§è¡Œå™¨åœ¨åŸºåº§åæ ‡ç³»ä¸‹çš„ä½ç§»åˆ†é‡å¯¹æ¯ä¸ªå…³èŠ‚å˜é‡çš„å˜åŒ–ç‡ã€‚

![alt text](images/image-4.png)

![alt text](images/image-5.png)

## é«˜æ–¯-ç‰›é¡¿æ³•ï¼ˆGauss-Newtonï¼‰

é«˜æ–¯-ç‰›é¡¿æ³•æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°å€¼ä¼˜åŒ–æ–¹æ³•ï¼Œç”¨äºæ±‚è§£éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜ã€‚åœ¨é€†è¿åŠ¨å­¦ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯¯å·®å‡½æ•° $E$ è§†ä¸ºå…³äºå…³èŠ‚å˜é‡çš„éçº¿æ€§å‡½æ•°ï¼Œå¹¶ä½¿ç”¨é«˜æ–¯-ç‰›é¡¿æ³•æ¥è¿­ä»£åœ°æ›´æ–°å…³èŠ‚å˜é‡ï¼Œä»¥å‡å°è¯¯å·®å‡½æ•°çš„å€¼ã€‚

å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. **åˆå§‹åŒ–**ï¼šé€‰æ‹©ä¸€ç»„åˆå§‹çš„å…³èŠ‚è§’åº¦ä½œä¸ºèµ·ç‚¹ã€‚
2. **è®¡ç®—é›…å¯æ¯”çŸ©é˜µå’Œè¯¯å·®å‘é‡**ï¼šæ ¹æ®å½“å‰çš„å…³èŠ‚è§’åº¦ï¼Œè®¡ç®—å‡ºæœ«ç«¯æ‰§è¡Œå™¨çš„ä½ç½®å’Œå§¿æ€ï¼ˆå³å˜æ¢çŸ©é˜µï¼‰ï¼Œç„¶åè®¡ç®—é›…å¯æ¯”çŸ©é˜µå’Œè¯¯å·®å‘é‡ã€‚
3. **æ„å»ºå¢å¹¿æ­£è§„æ–¹ç¨‹**ï¼šæ„é€ ä¸€ä¸ªå¢å¹¿çš„æ­£åˆ™åŒ–æ–¹ç¨‹ç»„ï¼Œå…¶ä¸­åŒ…æ‹¬äº†é›…å¯æ¯”çŸ©é˜µçš„è½¬ç½®ä¹˜ä»¥é›…å¯æ¯”çŸ©é˜µåŠ ä¸Šä¸€ä¸ªæ­£åˆ™é¡¹ $\lambda I$ ï¼ˆå…¶ä¸­ $I$ æ˜¯å•ä½çŸ©é˜µï¼Œ$\lambda > 0$ï¼‰ã€‚è¿™ä¸ªæ­£åˆ™é¡¹æ˜¯ä¸ºäº†é˜²æ­¢å¥‡å¼‚æ€§çš„å‡ºç°ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸäº›å…³èŠ‚æ¥è¿‘æé™æ—¶ã€‚
4. **è§£ç®—å¢é‡**ï¼šé€šè¿‡è§£ä¸Šè¿°å¢å¹¿æ­£è§„æ–¹ç¨‹ç»„ï¼Œå¾—åˆ°å…³èŠ‚è§’åº¦çš„å¢é‡ã€‚
5. **æ›´æ–°å…³èŠ‚è§’åº¦**ï¼šç”¨å¾—åˆ°çš„å¢é‡æ›´æ–°å…³èŠ‚è§’åº¦ã€‚
6. **é‡å¤ä»¥ä¸Šæ­¥éª¤**ï¼šç›´åˆ°æ»¡è¶³ä¸€å®šçš„æ”¶æ•›æ¡ä»¶ï¼ˆä¾‹å¦‚ï¼Œè¯¯å·®å‡½æ•°çš„å€¼å°äºæŸä¸ªé˜ˆå€¼ï¼Œæˆ–è€…å¢é‡çš„å¤§å°è¶³å¤Ÿå°ï¼‰ã€‚
7. è¿”å›æœ€ç»ˆçš„å…³èŠ‚è§’åº¦ã€‚

å…¶ä¸­çš„å…³é”®æ­¥éª¤ä¸ºï¼š

â‡ï¸åˆ›å»ºä¸€ä¸ª6x6çš„å•ä½çŸ©é˜µWï¼Œç”¨äºåœ¨æ±‚è§£å¢å¹¿æ­£è§„æ–¹ç¨‹æ—¶ä¹˜ä»¥é›…å¯æ¯”çŸ©é˜µçš„è½¬ç½®å’Œé›…å¯æ¯”çŸ©é˜µã€‚

$$ \begin{aligned}
W = \begin{bmatrix}
1 & 0 & \cdots & 0 \\
0 & 1 & \cdots & 0 \\
\vdots & \vdots & \ddots & \vdots \\
0 & 0 & \cdots & 1
\end{bmatrix}_{6 \times 6}
\end{aligned} $$

â‡ï¸è¿­ä»£æ±‚è§£

- è®¡ç®—è¯¯å·®

é€šè¿‡æ­£è¿åŠ¨å­¦æ±‚è§£å½“å‰çš„æœºæ¢°è‡‚æœ«ç«¯ä½å§¿çŸ©é˜µï¼š$\mathbf{T}_{\text{current}}=\operatorname{fkine}(\mathbf{q})$

$$ 
\mathbf{E}=\operatorname{tr2delta}\left(\mathbf{T}_{\text{current}}, \mathbf{T}_{\text {target }}\right) 
$$

 $$ \text{å½“è¯¯å·®å°äºå®¹å·®æ—¶ç»ˆæ­¢å¾ªç¯ï¼š} \left \| W*E \right \| < tol $$

- è®¡ç®—é›…å¯æ¯”çŸ©é˜µ

$$ \mathbf{J} = \text{jocobi} (\mathbf{q})$$

- æ›´æ–°å…³èŠ‚è§’

$$
\Delta\mathbf{q}=\left(\mathbf{J}^\top\mathbf{W}\mathbf{J}+(\lambda+\lambda_{\min})\mathbf{I}\right)^{-1}\mathbf{J}^\top\mathbf{W}\mathbf{E}
$$

$$
\mathbf{q}_{\mathrm{new}}=\mathbf{q}+\Delta\mathbf{q}^\top
$$


# å‚è€ƒ

> - [å°å¤§æœºå™¨äººå­¦ä¹‹è¿åŠ¨å­¦â€”â€”æ—æ²›ç¾¤ï¼ˆå«è¯¾ä»¶+ä¹¦ç±ï¼‰](https://www.bilibili.com/video/BV1v4411H7ez/?spm_id_from=333.337.search-card.all.click&vd_source=3bf4271e80f39cfee030114782480463)
> - [Pandaæœºæ¢°è‡‚å‚æ•°](https://frankaemika.github.io/docs/control_parameters.html#denavithartenberg-parameters)
> - [MATLABæœºå™¨äººå·¥å…·ç®±ä¸­æœºå™¨äººé€†è§£æ˜¯å¦‚ä½•æ±‚å‡ºæ¥çš„ï¼Ÿ](https://www.zhihu.com/question/41673569)
> - [robotics-toolbox-matlab/@SerialLink
/ikine.m](https://github.com/petercorke/robotics-toolbox-matlab/blob/master/%40SerialLink/ikine.m)
> - [ã€æ•™å­¦-æœºå™¨äººå·¥å…·ç®±ã€‘æœºæ¢°è‡‚é›…å¯æ¯”çŸ©é˜µ Jacobian Matrix](https://www.bilibili.com/video/BV1DB4y197jv/?vd_source=3bf4271e80f39cfee030114782480463)
> - [Whether or not is $J^TJ+\lambda \operatorname{diag}(J^TJ)$ guaranteed to be invertible?](https://math.stackexchange.com/questions/2629641/whether-or-not-is-jtj-lambda-operatornamediagjtj-guaranteed-to-be-inve)


# ä»£ç è·å–

![alt text](images/image-6.png)

![alt text](images/image-7.png)

![alt text](images/image-8.png)

å…³æ³¨æˆ‘ğŸ‘‡ğŸ‘‡ï¼Œå‘é€ï¼š`DockerRos2UnityArm`ï¼Œè·å–ä»¿çœŸä»£ç ã€‚






